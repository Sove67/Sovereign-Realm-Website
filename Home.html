<!DOCTYPE html>
<html lang="en">

<head>
    <title>Home</title>
    <meta charset="utf-8" />
    <meta name="author" content="Sove67">

    <style>
        @media screen {

            /* Global */
            body {
                font-size: 20px;
                padding: 0;
                margin: 0;
                font-family: fantasy;
                overflow: hidden;
                position: relative;
                height: 100vh;
                width: 100vw;
            }

            main {
                overflow-y: scroll;
                background-color: #332D3F;
                color: #c8afd7;
            }

            img {
                display: inline-block;
                max-height: 100%;
                max-width: 100%;
                height: auto;
                width: auto;
            }

            button,
            a {
                background-color: #b4ded5;
                padding: 10px;
                border-radius: 10px;
                color: #332D3F;
                text-decoration: none;
            }

            button:hover,
            a:hover {
                background-color: #38cfad;
                text-decoration: none;
            }

            #navChatSwapper {
                border: none;
                display: inline;
            }

            #navContainer {
                padding: 10px;
                margin: 10px;
            }

            #sidebar {
                background-color: #332D3F;
            }

            #sidebar img {
                height: auto;
                width: auto;
            }

            #dropdownIcon {
                position: relative;
                top: 50%;
                left: 50%;
                -ms-transform: translate(-50%, -50%);
                transform: translate(-50%, -50%);
            }

            #sidebar>nav .current {
                background-color: #38cfad;
            }

            #profile {
                display: grid;
                justify-content: center;
                align-content: center;
                grid-template-rows: auto 2em;
                text-align: center;
            }

            #profile img {
                justify-self: center;
                display: inline-block;
                max-height: 100%;
                max-width: 100%;
                height: auto;
                width: auto;
                border-radius: 50%;
                border-style: solid;
                border-color: grey;
            }

            #profile label {
                position: relative;
                top: .5em;
            }

            .contentType>* {
                display: list-item;
                list-style: none;
            }

            /* Landscape */
            @media not screen and (max-aspect-ratio: 1) {
                :root {
                    --sidebarWidth: min(min(15vw, calc((100vh - 2 * 5vh) / 3)), 150px);
                }

                body {
                    position: fixed;
                    display: grid;
                    grid-template-columns: var(--sidebarWidth) minmax(0, 1fr);
                    grid-template-rows: 100%;
                }

                #sidebar {
                    height: 100%;
                    width: 100%;
                    display: grid;
                    justify-content: center;
                    align-content: center;
                    grid-template-columns: 100%;
                    grid-template-rows: var(--sidebarWidth) minmax(0, 1fr) var(--sidebarWidth);
                }

                #navContainer nav {
                    display: grid;
                    align-content: space-between;
                    height: 100%;
                }

                #navContainer nav a {
                    justify-self: center;
                    width: 50%;
                }

                #dropdownExpanded {
                    display: grid;
                    position: fixed;
                    left: 0;
                    top: 0;
                    height: 100vh;
                    align-content: space-between;
                }

                main {
                    grid-column: 2/3;
                }

                #welcome {
                    display: grid;
                    grid-template-columns: 66% 33%;
                }

                #intro {
                    grid-column: 1/2;
                }

                #getStarted {
                    grid-column: 2/3;
                }

                #content {
                    display: grid;
                    grid-template-columns: 33% 33% 33%;
                }

                #projects {
                    grid-column: 1/2;
                }

                #patreon {
                    grid-column: 2/3;
                }

                #auctions {
                    grid-column: 3/4;
                }
            }

            /* Portrait */
            @media screen and (max-aspect-ratio: 1) {
                :root {
                    --sidebarHeight: min(min(15vh, calc((100vw - 2 * 5vw) / 3)), 150px);
                }

                body {
                    position: fixed;
                    display: grid;
                    grid-template-rows: var(--sidebarHeight) minmax(0, 1fr);
                    grid-template-columns: 100%;
                }

                #sidebar {
                    height: 100%;
                    width: 100%;
                    display: grid;
                    grid-template-rows: 100%;
                    grid-template-columns: var(--sidebarHeight) minmax(0, 1fr) var(--sidebarHeight);
                }

                #navContainer nav {
                    max-height: 100%;
                    max-width: 100%;
                    height: 100%;
                    display: grid;
                    align-content: center;
                    justify-content: space-between;
                }

                #navContainer nav a {
                    text-align: center;
                }

                #content {
                    display: grid;
                    grid-template-columns: 33% 33% 33%;
                }

                #projects {
                    grid-column: 1/2;
                }

                #patreon {
                    grid-column: 2/3;
                }

                #auctions {
                    grid-column: 3/4;
                }
            }
        }
    </style>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src="https://code.jquery.com/jquery-3.5.0.js"></script>
</head>

<body>
    <div id="sidebar">
        <button id="navChatSwapper">
            <img src="https://dummyimage.com/300x300/000/fff" alt="Logo" />
        </button>
        <div id="navContainer">
            <img id="dropdownIcon" src="https://dummyimage.com/100x100/000/fff" alt="Dropdown" />
            <nav>
                <a href="">
                    <img id="homeIcon" src="https://dummyimage.com/100x100/000/fff" alt="Home" />
                </a>
                <a href="">
                    <img id="projectIcon" src="https://dummyimage.com/100x100/000/fff" alt="Projects" />
                </a>
                <a id="patreonNav" href="">
                    <img id="patreonIcon" src="https://dummyimage.com/100x100/000/fff" alt="Patreons" />
                </a>
                <a href="">
                    <img id="shopIcon" src="https://dummyimage.com/100x100/000/fff" alt="Shop" />
                </a>
                <a href="">
                    <img id="FAQIcon" src="https://dummyimage.com/100x100/000/fff" alt="FAQ" />
                </a>
            </nav>
        </div>
        <a id="profile">
            <img src="https://dummyimage.com/300x300/000/fff" alt="FAQ" />
            <label>Username</label>

            <!--
                Popup
                <div>
                    <h1>Username</h1>
                    <span id="patreonTier"></span>
                    <span id="interests"></span>
                    <span id="expertise"></span>
                    <span id="notifications"></span>
                </div>-->

        </a>
    </div>
    <main>
        <section id="welcome">
            <h1>Welcome</h1>
            <div id="intro">
                <h2>Intro</h2>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                    Donec faucibus pulvinar tortor, sed iaculis dui sagittis a.
                    Maecenas condimentum porta libero, non maximus est
                    sollicitudin eget. Donec dui odio, tristique sit amet augue
                    at, luctus venenatis ex.
                    <br />
                    <br />
                    Praesent nec euismod metus, non laoreet velit. Curabitur
                    vulputate felis ac felis facilisis, et molestie nibh semper.
                    Maecenas eget volutpat massa, a consequat ante. Nullam vitae
                    ante eu quam posuere interdum sit amet nec felis. In at
                    ornare nisl. Duis ante orci, viverra non eros venenatis,
                    ullamcorper scelerisque nulla. Aliquam erat volutpat. Mauris
                    eget suscipit tortor.
                </p>
            </div>
            <div id="getStarted">
                <h2>Getting Started</h2>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                    Donec faucibus pulvinar tortor, sed iaculis dui sagittis a.
                    Maecenas condimentum porta libero, non maximus est
                    sollicitudin eget. Donec dui odio, tristique sit amet augue
                    at, luctus venenatis ex.
                </p>
            </div>
        </section>
        <section id="content">
            <h1>Content</h1>
            <article id="projects" class="contentType">
                <h2><a class="heading" href="">Projects</a></h2>
                <span class="stats">x</span> Projects
                <span class="stats">x</span> Hours of Video
                <h3>Featured Project</h3>
                <a href="">
                    <article>
                        <img src="https://dummyimage.com/600x400/000/fff" alt="Featured Video" />
                        <label>Project Title</label>
                    </article>
                </a>
            </article>
            <article id="patreon" class="contentType">
                <h2><a class="heading" href="">Patreon</a></h2>
                <span class="stats">x</span> Patreons
                <span class="stats">x</span> Hours of Exclusive Content
                <a href="">
                    <div>
                        <h3>Aristocrat Tier</h3>
                        <ul>
                            <lh>Features</lh>
                            <li>Extra Discord Features</li>
                            <li>Extra Realm Account Features</li>
                            <li>Early Video Access on Realm</li>
                        </ul>
                    </div>
                </a>
                <a href="">
                    <div>
                        <h3>Noble Tier</h3>
                        <ul>
                            <lh>Features</lh>
                            <li>Aristocrat Features</li>
                            <li>Extra Content on Realm</li>
                            <li>Project Suggestions & Voting</li>
                        </ul>
                    </div>
                </a>
                <a href="">
                    <div>
                        <h3>Sovereign Tier</h3>
                        <ul>
                            <lh>Features</lh>
                            <li>Aristocrat Features</li>
                            <li>Noble Features</li>
                            <li>Access to project help in the Sovereign Community</li>
                            <li>Personal Discord Call with Sove67</li>
                        </ul>
                    </div>
                </a>
            </article>
            <article id="shop" class="contentType">
                <h2><a class="heading" href="">Shop</a></h2>
                <span class="stats">x</span> Auctions
                <span class="stats">x</span> Products
                <h3>Featured Item</h3>
                <a href="">
                    <article>
                        <img src="https://dummyimage.com/600x400/000/fff" alt="Featured Video" />
                        <label>Project Title</label>
                    </article>
                </a>
            </article>
        </section>
    </main>
    <script>
        /*<![CDATA[*/
        $(document).ready(function () {
            var isPortrait = window.matchMedia("(max-aspect-ratio: 1)");
            let itemWidth;
            updateNavGrid(isPortrait);
            isPortrait.addListener(updateNavGrid);

            /* get nav gap */
            function getNavGap() {
                let paddingMargin = 40;
                if (isPortrait.matches) {
                    let columnString = $("#sidebar").css("grid-template-columns");
                    let secondColumnSize = parseFloat(columnString.split(" ")[1]) - paddingMargin;
                    return secondColumnSize - (itemWidth * 5);
                } else {
                    let rowString = $("#sidebar").css("grid-template-rows");
                    let secondRowSize = parseFloat(rowString.split(" ")[1]) - paddingMargin;
                    return secondRowSize - (itemWidth * 5);
                }
            }

            function updateNavGrid(isPortrait) {
                if (isPortrait.matches) {
                    itemWidth = parseFloat($("#navContainer").css("height")) * .75;
                    let section = itemWidth + "px "
                    $("#navContainer>nav").css("grid-template-columns", section + section + section + section + section);
                    $("#navContainer>nav").css("grid-template-rows", "");
                } else {
                    itemWidth = parseFloat($("#navContainer").css("width")) * .75;
                    let section = itemWidth + "px "
                    $("#navContainer>nav").css("grid-template-columns", "");
                    $("#navContainer>nav").css("grid-template-rows", section + section + section + section + section);
                }
            }

            /* Collapse Nav */
            onResize();
            window.addEventListener("resize", onResize);
            function onResize() {
                console.log("resized");
                if (getNavGap() < 0) {
                    $("#dropdownIcon").css("display", "inline");
                    $("#navContainer>nav").css("display", "none");
                } else {
                    $("#dropdownIcon").css("display", "none");
                    $("#navContainer>nav").css("display", "grid");
                }
            }

            /* Open Nav */
            $("#dropdownIcon").hover(
                function () {
                    console.log("hovered");
                    $("#navContainer>nav").css("display", "grid");
                    $("#navContainer>nav").addClass("dropdownExpanded");
                },
                function () {
                    $("#navContainer>nav").css("display", "none");
                    $("#navContainer>nav").removeClass("dropdownExpanded");
                }
            );

            /* Hide Scroll Bar */
            $("main").css("overflow", "scroll");
            let mainMargin = parseFloat($("main").css("margin"));
            let mainPadding = parseFloat($("main").css("padding"));
            $("main").css("margin-right", -100 + "px");
            $("main").css("padding-right", 100 + "px");
            $("main").css("margin-bottom", -100 + "px");
            $("main").css("padding-bottom", 100 + "px");

            /* Ratio Profile Text */
            $("#profile").css("font-size", parseFloat($("#profile").css("height")) * .2);
        });
        /*]]>*/
    </script>

    <!--------->
    <!-- API -->
    <!--------->

    <!-- Firebase -->
    <script src="/__/firebase/8.0.0/firebase-app.js"></script>
    <script src="/__/firebase/8.0.0/firebase-analytics.js"></script>
    <script src="/__/firebase/init.js"></script>

    <!-- Bootstrap -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
</body>

</html>